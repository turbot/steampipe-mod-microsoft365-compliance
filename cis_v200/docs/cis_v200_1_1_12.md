## Description

Password hash synchronization is one of the sign-in methods used to accomplish hybrid identity synchronization. Azure AD Connect synchronizes a hash, of the hash, of a user's password from an on-premises Active Directory instance to a cloud-based Azure AD instance.

**Note:** Audit and remediation procedures in this recommendation only apply to Microsoft 365 tenants operating in a hybrid configuration using Azure AD Connect sync.

Password hash synchronization helps by reducing the number of passwords your users need to maintain to just one and enables leaked credential detection for your hybrid accounts. Leaked credential protection is leveraged through Azure AD Identity Protection and is a subset of that feature which can help identity if an organization's user account passwords have appeared on the dark web or public spaces.

Using other options for your directory synchronization may be less resislient as Microsoft can still process sign-ins to 365 with Hash Sync even if a network connection to your on-premises environment is not available.

## Remediation

To setup Password Hash Sync, use the following steps:

1. Navigate to `Microsoft Entra admin center` https://entra.microsoft.com/.
2. Click to expand `Azure Active Directory` select `Overview`.
3. Scroll down on Overview page, underneath My feed section, select `Azure AD Connect`.
4. Click `Manage Azure AD cloud sync`.
5. Click `Configure`.
6. On the `Additional taskspage`, select `Customize synchronization options` and click `Next`.
7. Enter the username and password for your global administrator.
8. On the `Connect your directories` screen, click `Next`.
9. On the `Domain and OU filtering screen`, click `Next`.
10. On the `Optional features` screen, check `Password hash synchronization` and click `Next`.
11. On the `Ready to configure` screen click `Configure`.
12. Once the configuration completes, click `Exit`.

**Default Value:**
- Azure AD Connect sync `disabled` by default.
- Password Hash Sync is Microsoft's recommended setting for new deployments.
