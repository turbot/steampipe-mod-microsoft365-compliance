## Description

Authentication methods support a wide variety of scenarios for signing in to Microsoft 365 resources. Some of these methods are inherently more secure than others but require more investment in time to get users enrolled and operational.

The email one-time passcode feature is a way to authenticate B2B collaboration users when they can't be authenticated through other means, such as Microsoft Entra ID, Microsoft account (MSA), or social identity providers. When a B2B guest user tries to redeem your invitation or sign in to your shared resources, they can request a temporary passcode, which is sent to their email address. Then they enter this passcode to continue signing in.

The recommended state is to `Disable` email OTP.

## Remediation

**To remediate using the UI:**

1. Navigate to `Microsoft Entra admin center` [https://entra.microsoft.com/](https://entra.microsoft.com/).
2. Click to expand `Entra ID` > `Authentication methods`.
3. Select `Policies`.
4. Click on `Email OTP`.
5. Change the `Enable` toggle to the off position.
6. Click `Save`.

**Note:** If the save button remains greyed out after toggling a method off, then first turn it back on and then change the position of the `Target` selection (all users or select groups). Turn the method off again and save. This was observed to be a bug in the UI at the time this document was published.

**To remediate using PowerShell:**

1. Connect to Graph using `Connect-MgGraph -Scopes "Policy.ReadWrite.AuthenticationMethod"`.
2. Run the following:

```bash
$params = @(@{ Id = "Email"; State = "disabled" })
Update-MgPolicyAuthenticationMethodPolicy -AuthenticationMethodConfigurations $params
```

### Default Value

Email OTP : Enabled.
